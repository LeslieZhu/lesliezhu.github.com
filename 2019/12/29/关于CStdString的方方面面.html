
        <!DOCTYPE HTML>
        <html>
        <head>
        <meta charset="utf-8">
        
        <script>
        var CONFIG = {
        root: '/',
        localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"preload":true},
        path: 'search.json',
        };
        </script>
        
        <title>关于CStdString</title>
        <meta name="author" content="吴羽舒">
        <meta name="email" content="pythonislandongmaildotcom">
        <meta name="description" content="Use OrgNote.">
        <meta property="og:site_name" content="MinYiLife"/>
        <meta name="Keywords" content="OrgNote,Emacs,org-mode,blog,python,geek">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta property="og:image" content="undefined"/>

        <link href="/favicon.ico" rel="icon">
        
        <link rel="stylesheet" href="/theme/freemind/css/bootstrap.min.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/theme/freemind/css/font-awesome.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/theme/freemind/css/style.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/theme/freemind/css/highlight.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/theme/freemind/css/default-highlight.css" media="screen" type="text/css">
        <script type="text/javascript" src="/theme/freemind/js/jquery-2.0.3.min.js"></script>
        <script type="text/javascript" src="/theme/freemind/js/local-search.js?v=7.4.1"></script>
        </head>
        

        <body>  
        <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        
        <div class="container">
        
        <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        </button>
    
        <a class="navbar-brand" href="/index.html">MinYiLife</a>
        

        <div class="collapse navbar-collapse nav-menu">
        
        <ul class="nav navbar-nav">
        <li><a href="http://www.lesliezhu.com/links.html" title="MinYi"><i class="fa fa-sitemap"></i>MinYi</a></li><li><a href="http://www.lesliezhu.com/archive.html" title="归档"><i class="fa fa-archive"></i>归档</a></li><li><a href="http://www.lesliezhu.com/tags.html" title="标签"><i class="fa fa-tags"></i>标签</a></li><li><a href="http://www.lesliezhu.com/about.html" title="说明"><i class="fa fa-user"></i>说明</a></li><li><a href="http://www.lesliezhu.com/rss.xml" title="订阅" target="_blank"><i class="fa fa-rss"></i>订阅</a></li><li>
                <a role="button" class="popup-trigger">
                <i class="fa fa-search fa-fw"></i>搜索
                </a>
                </li>
                
        <div class="site-search">
          <div class="popup search-popup">
            <div class="search-header">
              <span class="search-icon">
                <i class="fa fa-search"></i>
              </span>
            <div class="search-input-container">
              <input autocomplete="off" autocorrect="off" autocapitalize="none"
                     placeholder="Searching..." spellcheck="false"
                     type="text" id="search-input">
            </div>
            <span class="popup-btn-close">
                <i class="fa fa-times-circle"></i>
            </span>
          </div>
          <div id="search-result"></div>
        </div>
        <div class="search-pop-overlay"></div>
        
        </ul>
        
        </div> <!-- navbar -->
        </div> <!-- container -->
        </nav>
        

        <div class="clearfix"></div>
        <div class="container">
        <div class="content">
        
        <div class="page-header">                   <!-- page-header begin -->
        <h1>关于CStdString</h1>
        </div>                                      <!-- page-header end -->
        
        <div class="row page">                      <!-- row-page begin -->
        <div class="col-md-12">                            <!-- col-md-9/12 begin -->
        <div class="mypage">                        <!-- mypage begin -->
        
        <div class="slogan">                        <!-- slogan begin -->
        <i class="fa fa-heart"></i>
        标签: <a href="http://www.lesliezhu.com/tags/C++.html"><i class="C++"></i>C++</a>
<span class='date'>文|<a href='http://www.lesliezhu.com/about.html'><i class='http://www.lesliezhu.com/about.html'></i>吴羽舒</a></span>
        </div>                                     <!-- slogan end -->
        
<div id="content">

<div class="outline-2" id="outline-container-orgc693fa5">
<h2 id="orgc693fa5">CStdString</h2>
<div class="outline-text-2" id="text-orgc693fa5">
<p>
<code>Joe O'Leary CStdString</code> 其本身好像是VC++/MFC中的一部分，支持ansi、unicode:
</p>
<ul class="org-ul">
<li>作者 <code>Joe O'Leary</code> 主页（已经无法打开）:<a href="http://www.joeo.net/">http://www.joeo.net/</a></li>
<li><code>StdString.h</code> 说明页面（已经无法打开）:<a href="http://home.earthlink.net/~jmoleary/stdstring.htm">http://home.earthlink.net/~jmoleary/stdstring.htm</a></li>
<li>作者2011写的文章 <a href="https://www.codeproject.com/Articles/1146/CString-clone-Using-Standard-C">CString-clone Using Standard C++</a> :</li>
<li>别人整理的相关repo: <a href="https://github.com/lunakid/CStdString">https://github.com/lunakid/CStdString</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org8150442">
<h2 id="org8150442">StdString.h</h2>
<div class="outline-text-2" id="text-org8150442">
<p>
<code>2011-12-05</code> 的版本（没找到更新版本）:
</p>
<div class="source"><pre><span></span><span class="c1">//  FILE:  StdString.h</span>
<span class="c1">//  AUTHOR:	Joe O&#39;Leary (with outside help noted in comments)</span>
<span class="c1">//</span>
<span class="c1">//		If you find any bugs in this code, please let me know:</span>
<span class="c1">//</span>
<span class="c1">//				jmoleary@earthlink.net</span>
<span class="c1">//				http://www.joeo.net/stdstring.htm (a bit outdated)</span>
<span class="c1">//</span>
<span class="c1">//      The latest version of this code should always be available at the</span>
<span class="c1">//      following link:</span>
<span class="c1">//</span>
<span class="c1">//              http://www.joeo.net/code/StdString.zip (Dec 6, 2003)</span>
<span class="c1">//</span>
<span class="c1">//</span>
<span class="c1">//  REMARKS:</span>
<span class="c1">//		This header file declares the CStdStr template.  This template derives</span>
<span class="c1">//		the Standard C++ Library basic_string&lt;&gt; template and add to it the</span>
<span class="c1">//		the following conveniences:</span>
<span class="c1">//			- The full MFC CString set of functions (including implicit cast)</span>
<span class="c1">//			- writing to/reading from COM IStream interfaces</span>
<span class="c1">//			- Functional objects for use in STL algorithms</span>
<span class="c1">//</span>
<span class="c1">//		From this template, we intstantiate two classes:  CStdStringA and</span>
<span class="c1">//		CStdStringW.  The name &quot;CStdString&quot; is just a #define of one of these,</span>
<span class="c1">//		based upone the UNICODE macro setting</span>
<span class="c1">//</span>
<span class="c1">//		This header also declares our own version of the MFC/ATL UNICODE-MBCS</span>
<span class="c1">//		conversion macros.  Our version looks exactly like the Microsoft&#39;s to</span>
<span class="c1">//		facilitate portability.</span>
</pre></div>

</div>
</div>
<div class="outline-2" id="outline-container-org896aece">
<h2 id="org896aece">别人的言论、评价</h2>
<div class="outline-text-2" id="text-org896aece">
<pre class="example">
一个VC++中的StdString类源代码，可完善替代CString字符串类，支持ansi、unicode。实际在一些项目中用了一段，感觉非常棒，推荐给朋友们。
</pre>
<pre class="example">
在实际工作中，std的string功能相对于MFC的CString来说，实在是相形见绌。

CStdString类实现了CString的功能，支持跨平台。
</pre>
<p>
在 <a href="https://stackoverflow.com/questions/5437675/mixing-objc-and-c-with-c-template-classes-in-more-than-one-source?r=SearchResults">mixing-objc-and-c-with-c-template-classes-in-more-than-one-source</a> 上获取到这些信息:
</p>
<pre class="example">
Joe's CStdString is in fact a derived class from std::string.

Anyway, bad thing - good thing: CStdString has no own members. It's a straightforward wrapper for one/two byte instantiations of std::basic_string with the convenience of most features that MFC CString offers and a wide usability. I used it on Linux more than 10 years ago and on Win32 where I couldn't use MFC. Joe's work on it started 1998 with help of ~50 people within 7 years of development. I think they've managed the poorly side effects being in the template.
</pre>
</div>
</div>
<div class="outline-2" id="outline-container-org25a48c8">
<h2 id="org25a48c8">CString-clone Using Standard C++</h2>
<div class="outline-text-2" id="text-org25a48c8">
<pre class="example">
As much as I use and appreciate the Standard C++ Library, I've never liked its string template - basic_string&lt;&gt;. At times, it seems the designers went out of their way to make it difficult to use.

On the other hand, I've always loved the ease of use of MFC's CString class. It checks for NULL pointers, implicitly converts to const TCHAR*, and has some very handy member functions (Format, Load, etc.) that make string programming a breeze. But of course, I don't want to use MFC anymore. In fact, I don't want to rely on any proprietary library because I want portability.
</pre>
<pre class="example">
Go to Parent(I realize this response is over a year late. I don't appear to be being notified when people reply to this article)

"Performance" is a fairly encompassing term. Most of the performance differences will come down to the performance of std::string vs CString. That depends upon your particular implementation of basic_string, over which I have no control

For the performance of various CString-facade functions (e.g. format), well at this point I am long past comparing those or worrying about it. It is not going to make a difference in 99% of the cases. You would have to be doing some monster-level of string processing for it to matter.

If that sounds like a bit of a dismissal, I suppose it is. This class is mostly meant to help people transition over from CString to std::string with a minimum of code-rewrite. To help you get off of MFC&gt; The idea is that you can get your code running right away and then start refactoring any important string processing code to use basic_string properly, in the most efficient way you see fit. This class is not meant to be used alongside CString. But if it must, well you can then always use CString instead. This class coexist well with it.

-Joe
</pre>
</div>
</div>
</div>
        <hr>
        <div id="post-copyright">
        <ul class="post-copyright">
        <li class="post-copyright-author">
        <strong>本文作者：</strong>「
        <a href="http://www.lesliezhu.com/about.html" title="吴羽舒">吴羽舒</a> 」创作于2019-12-29 Sun，共150字
        </li>
        <li><strong>微信搜索：</strong> <span>「 <a href='http://www.lesliezhu.com/images/weixin.jpg'>MinYiLife</a> 」</span>, 关注公众号!<li>
        <li class="post-copyright-link">
        <strong>本文链接：</strong>
        <a href="http://www.lesliezhu.com/2019/12/29/关于CStdString的方方面面.html" title="关于CStdString">http://www.lesliezhu.com/2019/12/29/关于CStdString的方方面面.html</a>
        </li>
        <li class="post-copyright-license">
        <strong>版权声明：</strong>
        原创文章，如需转载请注明文章作者和出处。谢谢！
        </li>
        </ul>
        </div>
        
            <div>
            <center>
            <div class="pagination">
            <ul class="pagination">
            <li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>上一页</a></li>
            <li><a href="http://www.lesliezhu.com/archive.html" target="_blank"><i class="fa fa-archive"></i>Archive</a></li>
            <li class="next"><a href="http://www.lesliezhu.com/2019/10/17/积雨云.html" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a></li>
            </ul>
            </div>
            </center>
            </div>
            
            <div class="post-reward">
            <input type="checkbox" name="reward" id="reward" hidden />
            <label id="reward-button" class="reward-button" for="reward">赞赏支持</label>
            <div class="qr-code">
            
                <label id="qr-code-image-w" class="qr-code-image" for="reward" hidden>
                <img class="image" src="http://www.lesliezhu.com//images/wechatpay.jpg">
                <span>微信打赏</span>
                </label>
                
                <label id="qr-code-image-a" class="qr-code-image" for="reward" hidden>
                <img class="image" src="http://www.lesliezhu.com//images/alipay.jpg">
                <span>支付宝打赏</span>
                </label>
                
                <label id="qr-code-image-p" class="qr-code-image" for="reward" hidden>
                <img class="image" src="http://www.lesliezhu.com//images/weixin.jpg">
                <span>微信公众号</span>
                </label>
                
            </div>
            </div>
            
            
            <script src="https://utteranc.es/client.js"
            repo="LeslieZhu/lesliezhu.github.com"
            issue-term="title"
            theme="github-light"
            crossorigin="anonymous"
            async>
            </script>
            </div> <!-- my-page --></div> <!-- col-md -->


        </div> <!-- row-fluid -->
        </div>
        </div>
        

        <div class="container-narrow">
        <footer>
        <p>&copy; 2014 吴羽舒
        with help from <a href="https://github.com/LeslieZhu/OrgNote" target="_blank">OrgNote</a>. Theme by <a href="https://github.com/LeslieZhu/orgnote-theme-freemind">orgnote-theme-freemind</a>.  Published with GitHub Pages. 
        </p> </footer>
        </div> <!-- container-narrow -->
        
        <a id="gotop" href="#">   
        <span>▲</span> 
        </a>
        
        

        <script type="text/javascript">
        
        <!-- donate script -->
        var reward = document.getElementById('reward');
        if(reward){
            reward.onclick = function() {
              $('#reward-button').addClass('hidden');
              $('#qr-code-image-w').show();
              $('#qr-code-image-a').show();
              $('#qr-code-image-p').show();
            }
        }
        <!-- /donate script -->

        
        function showul(name){
            var uls = document.getElementById(name);
            if(uls.style.display == "none"){
               uls.style.display = "block";
            } else {
               uls.style.display = "none";
            } 
        }
        </script>
        

        </body>
        </html>
        
